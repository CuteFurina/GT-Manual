import{_ as a}from"./MainCover.js";import{_ as e,j as s,q as l,e as t}from"./index.js";import{a7 as d,r as o,e as c,g as n,G as r,k as u,j as i,T as p,J as f,n as m,K as _,X as y,a3 as v,aY as j,i as g,P as h,R as x,O as k,aw as w,a2 as C,W as b,aJ as q,ap as $,aq as I}from"./vendor.js";import{c as J,g as P,d as R}from"./dj2.js";import"./album2.js";const z={class:"dj"},G={class:"recommend"},K=(a=>($("data-v-e44ae0e7"),a=a(),I(),a))((()=>f("div",{class:"light-green"},null,-1))),M=e({__name:"index",setup(e){const $=d(),I=o(!0),M=o(null),N=o(null),O=o(null);return c((async()=>{await(async()=>{try{const a=await s("djCat",30,J);M.value=a.categories.map((({name:a,id:e})=>({name:a,id:e})))}catch(a){console.error("获取电台分类出现错误",a),$message.error("电台分类获取失败，请重试")}})(),await(async()=>{try{const[a,e]=await Promise.all([P(),R()]);N.value=l(a.djRadios,"dj"),O.value=e.data}catch(a){console.error("获取推荐电台出错：",a),$message.error("获取推荐电台出现错误")}})()})),(e,s)=>{const d=k,o=w,c=C,J=t,P=b,R=v,T=q,W=j,X=a;return n(),r("div",z,[u(p,{name:"fade",mode:"out-in"},{default:i((()=>[m(M)?(n(),g(R,{key:0,collapsed:m(I),class:"dj-cat","x-gap":"20","y-gap":"20",cols:"3 s:4 m:5 l:6 xl:7",responsive:"screen"},{default:i((()=>[(n(!0),r(_,null,y(m(M),((a,e)=>(n(),g(c,{key:e},{default:i((()=>[u(o,{class:"cat",hoverable:"",onClick:e=>m($).push({path:"/dj-type",query:{type:a.id,name:a.name}})},{default:i((()=>[u(d,null,{default:i((()=>[h(x(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),u(c,{class:"suffix",suffix:""},{default:i((({overflow:a})=>[u(o,{class:"cat",hoverable:"",onClick:s[0]||(s[0]=a=>I.value=!m(I))},{default:i((()=>[u(P,{size:"24",depth:"3"},{default:i((()=>[u(J,{icon:a?"chevron-down":"chevron-up"},null,8,["icon"])])),_:2},1024),u(d,null,{default:i((()=>[h(x(a?"查看全部":"收起标签"),1)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["collapsed"])):(n(),g(R,{key:1,class:"dj-cat","x-gap":"20","y-gap":"20",cols:"2 s:3 m:4 l:5 xl:6",responsive:"screen",collapsed:""},{default:i((()=>[(n(),r(_,null,y(20,(a=>u(c,{key:a},{default:i((()=>[u(o,{class:"cat",hoverable:""},{default:i((()=>[u(T,{style:{height:"20px"},text:"",round:""})])),_:1})])),_:2},1024))),64))])),_:1}))])),_:1}),f("div",G,[u(W,{class:"title",prefix:"bar"},{default:i((()=>[u(d,{class:"name"},{default:i((()=>[h("热门推荐")])),_:1})])),_:1}),u(X,{data:m(N),type:"dj"},null,8,["data"]),u(R,{"x-gap":"20","y-gap":"20",cols:2},{default:i((()=>[u(c,null,{default:i((()=>[K])),_:1})])),_:1}),(n(!0),r(_,null,y(m(O),((a,e)=>(n(),r("div",{key:e,class:"type"},[u(W,{class:"title",prefix:"bar",onClick:e=>m($).push(`/dj-type?type=${a.categoryId}`)},{default:i((()=>[u(d,{class:"name"},{default:i((()=>[h(x(a.categoryName),1)])),_:2},1024),u(P,{class:"more",depth:"3"},{default:i((()=>[u(J,{icon:"chevron-right"})])),_:1})])),_:2},1032,["onClick"]),u(X,{data:m(l)(a.radios,"dj"),type:"dj"},null,8,["data"])])))),128))])])}}},[["__scopeId","data-v-e44ae0e7"]]);export{M as default};
