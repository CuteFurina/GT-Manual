import{_ as a}from"./SongList.js";import{_ as s,q as t,C as o,e}from"./index.js";import{a7 as n,r,w as i,e as l,g as u,G as c,k as d,j as m,n as h,b4 as p,P as v,J as g,O as f,W as _}from"./vendor.js";import{b as j}from"./artist.js";import"./Pagination.js";const w={class:"artist-hot"},y=s({__name:"hot",setup(s){const y=n(),b=r(y.currentRoute.value.query.id),S=r(null),q=async a=>{try{S.value=null;const s=await j(a);if(s.hotSongs?.[0]?.al?.picUrl)return S.value=t(s.hotSongs,"song"),!0;const e=s.hotSongs.map((a=>a.id)).join(","),n=await o(e);S.value=t(n.songs,"song")}catch(s){console.error("获取歌手热门数据失败：",s)}};return i((()=>y.currentRoute.value),(async a=>{b.value=a.query.id,"ar-hot"===a.name&&await q(b.value)})),l((async()=>{await q(b.value)})),(s,t)=>{const o=f,n=e,r=_,i=p,l=a;return u(),c("div",w,[d(i,{class:"title",prefix:"bar"},{default:m((()=>[d(o,{class:"name"},{default:m((()=>[v("热门歌曲")])),_:1}),g("div",{class:"more",onClick:t[0]||(t[0]=a=>h(y).push(`/artist/songs?id=${h(b)}`))},[d(o,{depth:"3"},{default:m((()=>[v("查看全部")])),_:1}),d(r,{class:"more",depth:"3"},{default:m((()=>[d(n,{icon:"chevron-right"})])),_:1})])])),_:1}),d(l,{data:h(S),showPagination:!1,showTitle:!1},null,8,["data"])])}}},[["__scopeId","data-v-106705b2"]]);export{y as default};
